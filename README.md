# FTA - MasterGo-to-App è®¾è®¡ç¨¿åˆ°ä»£ç è½¬æ¢å¹³å°

<div align="center">

![FTA Logo](https://img.shields.io/badge/FTA-MasterGo--to--App-blue?style=for-the-badge)
![React](https://img.shields.io/badge/React-18.2.0-blue?style=for-the-badge&logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5.5.3-blue?style=for-the-badge&logo=typescript)
![Midway.js](https://img.shields.io/badge/Midway.js-3.11.15-green?style=for-the-badge&logo=node.js)
![MongoDB](https://img.shields.io/badge/MongoDB-5.13.0-green?style=for-the-badge&logo=mongodb)

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](CONTRIBUTING.md)

**ğŸš€ ä¼ä¸šçº§æ™ºèƒ½è®¾è®¡ç¨¿åˆ°ä»£ç è½¬æ¢å¹³å°**

æä¾›ä»è®¾è®¡ç¨¿ä¸Šä¼ ã€éœ€æ±‚åˆ†æã€ç»„ä»¶è¯†åˆ«åˆ°ä»£ç ç”Ÿæˆçš„å®Œæ•´å·¥ä½œæµï¼Œæ”¯æŒ3Dç»„ä»¶æ£€è§†ã€æ™ºèƒ½ç»„ä»¶è¯†åˆ«ã€éœ€æ±‚æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆç­‰é«˜çº§åŠŸèƒ½ã€‚

</div>

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¨ æ™ºèƒ½è®¾è®¡ç¨¿è§£æ
- **å¤šæ ¼å¼æ”¯æŒ**: MasterGoã€Sketchã€Adobe XDç­‰ä¸»æµè®¾è®¡å·¥å…·
- **æ™ºèƒ½ç»„ä»¶è¯†åˆ«**: AIé©±åŠ¨çš„ç»„ä»¶è¾¹ç•Œæ£€æµ‹å’Œåˆ†ç±»
- **å®æ—¶é¢„è§ˆ**: DSLæ•°æ®å®æ—¶æ¸²æŸ“å’Œå¯è§†åŒ–

### ğŸ” 3Dç»„ä»¶æ£€è§†
- **Three.jsé›†æˆ**: äº¤äº’å¼3Dç»„ä»¶å±‚çº§å¯è§†åŒ–
- **æ·±åº¦å±•ç¤º**: ç»„ä»¶åµŒå¥—å…³ç³»ç«‹ä½“å±•ç¤º
- **æè´¨æ¸²æŸ“**: å®æ—¶çº¹ç†å’Œæè´¨æ˜ å°„

### ğŸ“‹ éœ€æ±‚æ–‡æ¡£ç”Ÿæˆ
- **æ™ºèƒ½è½¬æ¢**: è®¾è®¡ç¨¿åˆ°PRDçš„è‡ªåŠ¨è½¬æ¢
- **æ¨¡æ¿åŒ–ç»“æ„**: æ ‡å‡†åŒ–éœ€æ±‚æ–‡æ¡£æ ¼å¼
- **ç‰ˆæœ¬æ§åˆ¶**: æ–‡æ¡£ç‰ˆæœ¬ç®¡ç†å’Œå˜æ›´è¿½è¸ª

### âš¡ ä»£ç ç”Ÿæˆå¼•æ“
- **å¤šæ¡†æ¶æ”¯æŒ**: Reactã€Vueã€Angularç­‰ä¸»æµæ¡†æ¶
- **æ™ºèƒ½ä¼˜åŒ–**: è‡ªåŠ¨ä»£ç ä¼˜åŒ–å’Œæ€§èƒ½è°ƒä¼˜
- **å®æ—¶é¢„è§ˆ**: ä»£ç æ•ˆæœå®æ—¶é¢„è§ˆå’Œè°ƒè¯•

### ğŸ¤ åä½œæ ‡æ³¨ç³»ç»Ÿ
- **å®æ—¶åä½œ**: å¤šäººå®æ—¶æ ‡æ³¨å’Œè¯„è®º
- **ç‰ˆæœ¬ç®¡ç†**: æ ‡æ³¨å†å²å’Œå†²çªæ£€æµ‹
- **æ‰¹é‡æ“ä½œ**: é«˜æ•ˆçš„æ‰¹é‡æ ‡æ³¨å·¥å…·

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
amh_code_agent/
â”œâ”€â”€ fta-layout-design/          # React 18 + TypeScript å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # æ ¸å¿ƒUIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ contexts/          # ContextçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰Hook
â”‚   â”‚   â”œâ”€â”€ services/          # APIæœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ code-agent-backend/         # Midway.js + TypeScript åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controller/        # APIæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ service/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ entity/            # æ•°æ®å®ä½“
â”‚   â”‚   â”œâ”€â”€ dto/               # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â””â”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ test/                  # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ .cursorrules               # å¼€å‘è§„èŒƒ
â”œâ”€â”€ CLAUDE.md                  # Claude CodeæŒ‡å¯¼æ–‡æ¡£
â””â”€â”€ README.md                  # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

- **Node.js**: å‰ç«¯æ¨è18+ï¼Œåç«¯éœ€16.18
- **æ•°æ®åº“**: MongoDB 5.13+ + Redis 4.28+
- **åŒ…ç®¡ç†å™¨**: npm æˆ– yarn

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-org/amh_code_agent.git
cd amh_code_agent
```

### 2. åç«¯æœåŠ¡å¯åŠ¨
```bash
cd code-agent-backend
npm install
npm run dev
```
åç«¯æœåŠ¡å°†åœ¨ http://localhost:7001 å¯åŠ¨

### 3. å‰ç«¯åº”ç”¨å¯åŠ¨
```bash
cd fta-layout-design
npm install
npm run dev
```
å‰ç«¯åº”ç”¨å°†åœ¨ http://localhost:5173 å¯åŠ¨

### 4. è®¿é—®åº”ç”¨
- ğŸŒ **å‰ç«¯åº”ç”¨**: http://localhost:5173
- ğŸ”Œ **åç«¯API**: http://localhost:7001
- ğŸ“š **APIæ–‡æ¡£**: http://localhost:7001/swagger-ui/index.html

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 18.2.0 | æ ¸å¿ƒUIæ¡†æ¶ |
| TypeScript | 5.5.3 | ç±»å‹å®‰å…¨ |
| Vite | 5.4.0 | æ„å»ºå·¥å…· |
| Ant Design | 5.12.0 | UIç»„ä»¶åº“ |
| Zustand | 4.5.2 | çŠ¶æ€ç®¡ç† |
| React Flow | 11.11.4 | æµç¨‹å›¾ç»„ä»¶ |
| Three.js | 0.180.0 | 3Dæ¸²æŸ“ |
| Lexical | 0.35.0 | æ–‡æœ¬ç¼–è¾‘å™¨ |

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Midway.js | 3.11.15 | Node.jsæ¡†æ¶ |
| TypeScript | 4.9.4 | ç±»å‹å®‰å…¨ |
| MongoDB | 5.13.0 | ä¸»æ•°æ®åº“ |
| Mongoose | + Typegoose | ODM |
| Redis | 4.28.5 | ç¼“å­˜ |
| Bull | 4.10.0 | ä»»åŠ¡é˜Ÿåˆ— |
| Jest | 29.1.2 | æµ‹è¯•æ¡†æ¶ |

## ğŸ“– æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### ğŸ  é¦–é¡µä»ªè¡¨æ¿
- é¡¹ç›®ç»Ÿè®¡é¢æ¿ï¼ˆé¡¹ç›®æ•°ã€ç»„ä»¶æ•°ã€å›¢é˜Ÿæ•°ï¼‰
- å¿«é€Ÿæ“ä½œå…¥å£
- é¡¹ç›®åˆ—è¡¨å’Œèµ„äº§ç®¡ç†

### ğŸ” ç»„ä»¶è¯†åˆ«ç¼–è¾‘å™¨
- ä¸‰æ å¸ƒå±€ï¼šç»„ä»¶æ ‘ã€ç”»å¸ƒé¢„è§ˆã€å±æ€§é¢æ¿
- Three.js 3Dç»„ä»¶æ£€è§†
- æ™ºèƒ½ç»„ä»¶è¯†åˆ«å’Œå¤šé€‰æ“ä½œ
- äº¤äº’å¼•å¯¼å’Œå¸®åŠ©ç³»ç»Ÿ

### ğŸ“ éœ€æ±‚ç†è§£é¡µé¢
- éœ€æ±‚ç†è§£èƒ½åŠ›å±•ç¤º
- æŠ€æœ¯é€‰å‹è¯´æ˜
- ä¸šåŠ¡é€»è¾‘å’Œäº¤äº’æµç¨‹åˆ†æ

### ğŸ—ï¸ æŠ€æœ¯æ¶æ„é¡µé¢
- ç³»ç»Ÿæ¶æ„ç»„ä»¶è¯¦è§£
- æŠ€æœ¯æ ˆå±•ç¤ºå’Œè¯´æ˜
- å®ç°æ–¹æ¡ˆå’Œæœ€ä½³å®è·µ

## ğŸ¯ APIæ¥å£

### è®¾è®¡ç¨¿ç®¡ç†
```http
GET    /design/list                    # è·å–è®¾è®¡ç¨¿åˆ—è¡¨
POST   /design/create                  # åˆ›å»ºè®¾è®¡ç¨¿
PUT    /design/:id                     # æ›´æ–°è®¾è®¡ç¨¿
GET    /design/:id                     # è·å–è®¾è®¡ç¨¿è¯¦æƒ…
```

### éœ€æ±‚æ–‡æ¡£
```http
POST   /design/:id/requirement-docs    # ç”Ÿæˆéœ€æ±‚æ–‡æ¡£
GET    /design/:id/requirement-docs    # è·å–éœ€æ±‚æ–‡æ¡£
PUT    /design/:id/requirement-docs    # æ›´æ–°éœ€æ±‚æ–‡æ¡£
```

### ç»„ä»¶æ ‡æ³¨
```http
GET    /design/:id/annotations         # è·å–ç»„ä»¶æ ‡æ³¨
POST   /design/:id/annotations         # ä¿å­˜ç»„ä»¶æ ‡æ³¨
PUT    /design/:id/annotations/:aid    # æ›´æ–°ç»„ä»¶æ ‡æ³¨
```

### ä»£ç ç”Ÿæˆ
```http
POST   /design/:id/code-generation     # æäº¤ä»£ç ç”Ÿæˆä»»åŠ¡
GET    /design/:id/code-generation     # è·å–ç”ŸæˆçŠ¶æ€
GET    /design/:id/code-generation/download # ä¸‹è½½ç”Ÿæˆç»“æœ
```

## ğŸ”§ å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘

```bash
cd fta-layout-design

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview

# ç±»å‹æ£€æŸ¥
npx tsc --noEmit

# ä»£ç æ ¼å¼åŒ–
npm run format
```

### åç«¯å¼€å‘

```bash
cd code-agent-backend

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºé¡¹ç›®
npm run build

# ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
npm start

# ä»£ç è´¨é‡æ£€æŸ¥
npm run lint
npm run lint:fix

# è¿è¡Œæµ‹è¯•
npm test
npm run cov
```

## ğŸ§ª æµ‹è¯•

### å‰ç«¯æµ‹è¯•
```bash
cd fta-layout-design
npm test                 # è¿è¡Œæµ‹è¯•
npm run test:coverage    # æµ‹è¯•è¦†ç›–ç‡
```

### åç«¯æµ‹è¯•
```bash
cd code-agent-backend
npm test                 # è¿è¡Œå•å…ƒæµ‹è¯•
npm run cov              # æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–ç­–ç•¥
- **ç»„ä»¶çº§ä¼˜åŒ–**: React.memo + è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°
- **æ¸²æŸ“ä¼˜åŒ–**: è™šæ‹Ÿæ»šåŠ¨ã€æ¡ä»¶æ¸²æŸ“ã€æ‡’åŠ è½½
- **çŠ¶æ€ç®¡ç†**: Zustand + use-context-selector
- **ä»£ç åˆ†å‰²**: è·¯ç”±çº§å’Œç»„ä»¶çº§ä»£ç åˆ†å‰²

### åç«¯ä¼˜åŒ–ç­–ç•¥
- **ç¼“å­˜æœºåˆ¶**: Rediså¤šå±‚ç¼“å­˜
- **æ•°æ®åº“ä¼˜åŒ–**: ç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢è°ƒä¼˜
- **å¼‚æ­¥å¤„ç†**: Bullé˜Ÿåˆ—ç³»ç»Ÿ
- **è¿æ¥æ± **: æ•°æ®åº“è¿æ¥æ± ç®¡ç†

## ğŸ› æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**Q: å‰ç«¯æ„å»ºå¤±è´¥**
```bash
# æ£€æŸ¥TypeScriptç±»å‹é”™è¯¯
npx tsc --noEmit

# æ¸…ç†ä¾èµ–é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

**Q: åç«¯å¯åŠ¨å¤±è´¥**
```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node --version  # éœ€16.18

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
mongo --host 10.13.67.90 --port 27017
redis-cli ping
```

**Q: APIè°ƒç”¨å¤±è´¥**
- æ£€æŸ¥CORSé…ç½®
- ç¡®è®¤è®¤è¯Tokenä¼ é€’
- æŸ¥çœ‹åç«¯æ—¥å¿—é”™è¯¯ä¿¡æ¯

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### æäº¤è§„èŒƒ
éµå¾ªAngular Commitæ ¼å¼ï¼Œä½¿ç”¨ä¸­æ–‡æè¿°ï¼š

```
<type>(<scope>): <subject>

<body>
```

**ç±»å‹è¯´æ˜ï¼š**
- `feat` - æ–°åŠŸèƒ½
- `fix` - ä¿®å¤bug
- `docs` - æ–‡æ¡£æ›´æ–°
- `refactor` - ä»£ç é‡æ„
- `style` - ä»£ç æ ¼å¼è°ƒæ•´
- `test` - æµ‹è¯•ç›¸å…³
- `chore` - æ„å»º/å·¥å…·é…ç½®

### å¼€å‘æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat(ç»„ä»¶): æ–°å¢3Dæ£€è§†åŠŸèƒ½'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œè®¾è®¡å¸ˆï¼

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ“§ **é‚®ç®±**: dev-team@company.com
- ğŸ’¬ **è®¨è®º**: [GitHub Discussions](https://github.com/your-org/amh_code_agent/discussions)
- ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-org/amh_code_agent/issues)

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#fta---MasterGo-to-app-è®¾è®¡ç¨¿åˆ°ä»£ç è½¬æ¢å¹³å°)**

Made with â¤ï¸ by FTA Team

</div>